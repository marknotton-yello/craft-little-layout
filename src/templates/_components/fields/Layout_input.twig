{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Little Layout plugin for Craft CMS 3.x
 *
 * Layout Field Input
 *
 * @author    Will Browar
 * @copyright Copyright (c) 2021 Will Browar
 * @link      https://wbrowar.com
 * @package   LittleLayout
 * @since     1.0.0
 */
#}

{% set startingValue = value.raw == '' ? field.defaultValue : value.raw %}

{#{% dd field.required %}#}
{#{% if field.required %}#}
{#  {% dd 'it happened' %}#}
{#{% endif %}#}

<div
  data-little-layout="{{ namespacedId }}"
  data-field-type="input"
  data-default-value="{{ startingValue }}"
  data-clearable="{{ field.required ? 0 : field.clearable }}"
  data-cols="{{ field.cols }}"
  data-editable="{{ editable ? 'true' : 'false' }}"
  data-handle="{{ field.handle }}"
  data-rows="{{ field.rows }}"
  data-selection-mode="{{ field.selectionMode }}"
  data-scroll-message="{{ ('Scroll horizontally to see more layout values.')|t }}"
></div>

<input data-little-layout-placeholder="{{ namespacedId }}" type="hidden" name="{{ name }}[raw]" autofocus="" autocomplete="off" value="{{ startingValue }}">

{% do craft.app.view.registerJs(registerJs) %}