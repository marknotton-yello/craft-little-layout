{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Little Layout plugin for Craft CMS 3.x
 *
 * Layout Field Input
 *
 * @author    Will Browar
 * @copyright Copyright (c) 2021 Will Browar
 * @link      https://wbrowar.com
 * @package   LittleLayout
 * @since     1.0.0
 */
#}

{% set startingValue = value.raw == '' ? field.defaultValue : value.raw %}

{% set clearable = false %}
{% if not field.required and field.clearable == 1 %}
    {% set clearable = true %}
{% endif %}

<little-layout-field
    {{ clearable ? 'clearable="true"' : '' }}
    {{ editable ? 'editable="true"' : '' }}
    default-value="{{ startingValue }}"
    field-id="{{ namespacedId }}"
    field-name="{{ fieldNamespacedName }}"
    field-type="input"
    layout-cols="{{ field.cols }}"
    layout-rows="{{ field.rows }}"
    scroll-message="{{ ('Scroll horizontally to see more layout values.')|t }}"
    selection-mode="{{ field.selectionMode }}"
></little-layout-field>

{% do craft.app.view.registerJs(registerJs) %}