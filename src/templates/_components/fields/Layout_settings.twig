{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Little Layout plugin for Craft CMS
 *
 * Layout Field Settings
 *
 * @author    Will Browar
 * @copyright Copyright (c) 2021 Will Browar
 * @link      https://wbrowar.com
 * @package   LittleLayout
 * @since     1.0.0
 */
#}

{% import '_includes/forms.twig' as forms %}

{#{% dd name %}#}
{#{% dd field %}#}
{#{% dd fieldNamespacedName %}#}
{#{% dd namespacedId %}#}
{#{% dd registerJs %}#}

<div data-little-layout-settings="{{ namespacedId }}" class="little-layout-settings">
    <div class="little-layout-settings__fields">
        {{ forms.textField({
            id: "cols",
            instructions: 'Define the columns in your layout.'|t('little-layout'),
            label: 'Layout Columns'|t('little-layout'),
            name: "cols",
            required: true,
            min: 1,
            size: 3,
            type: 'number',
            value: field.cols,
        }) }}

        {{ forms.textField({
            id: "rows",
            instructions: 'Define the rows in your layout.'|t('little-layout'),
            label: 'Layout Rows'|t('little-layout'),
            name: "rows",
            required: true,
            min: 1,
            size: 3,
            type: 'number',
            value: field.rows,
        }) }}

        {{ forms.textField({
            id: "boxSize",
            instructions: 'CSS value that sets the size of the layout boxes.'|t('little-layout'),
            label: 'Box Size'|t('little-layout'),
            name: "boxSize",
            placeholder: '22px',
            value: field.boxSize,
        }) }}

        {{ forms.selectField({
            id: "clearable",
            label: 'Empty Layout'|t('little-layout'),
            name: "clearable",
            options: {
                1: 'Layouts can be reset'|t('little-layout'),
                2: 'Layouts cannot be reset'|t('little-layout')
            },
            required: true,
            value: field.clearable,
        }) }}

        {{ forms.selectField({
            id: "selectionMode",
            label: 'Selection Mode'|t('little-layout'),
            name: "selectionMode",
            options: {
                box: 'Select multiple rows and columns'|t('little-layout'),
                single: 'Select a single box'|t('little-layout')
            },
            required: true,
            value: field.selectionMode,
        }) }}
    </div>
    <div class="little-layout-settings__examples">
        {% set fieldInput %}<little-layout-field-settings
            default-value="{{ field.defaultValue }}"
            field-id="{{ namespacedId }}"
            field-name="{{ name }}[defaultValue]"
            layout-cols="{{ field.cols }}"
            layout-rows="{{ field.rows }}"
            selection-mode="{{ field.selectionMode }}"
            ></little-layout-field-settings>{% endset %}
        {{ forms.field({
            instructions: 'Select a default value for this field using the layout boxes below.'|t('little-layout'),
            label: 'Default value'|t('little-layout'),
        }, fieldInput) }}
    </div>
</div>
